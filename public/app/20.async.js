webpackJsonp([20],{837:function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(2),s=r(n),u=t(341),o=r(u),l=t(100),d=r(l);t(342);var i=t(95),p=(r(i),t(131),t(378)),c=(r(p),t(98)),f=(r(c),t(97)),g=r(f),y=t(345);o.default.config({top:100}),a.default={namespace:"users",state:{dialogopen:!1,dialogLoading:!1,error:{name:null,email:null,password:null,password_confirmation:null},title:"Users",order:"asc",orderBy:"id",selected:[],data:[],page:1,rowsPerPage:10,total:0,last_page:null},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){if("/admin/user"===e.pathname){a({type:"app/update",payload:{pageHeader:"Users"}});var t=e.query||{page:1,rowsPerPage:10};a({type:"getUserList",payload:t})}})}},effects:{getUserList:d.default.mark(function e(a,t){var r,n,s,u,o,l,i,p=a.payload,c=t.put,f=t.call;t.select;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"loading"});case 2:return e.next=4,f(y.request,{url:g.default.api.userList,withtoken:!0,params:p});case 4:if(r=e.sent,200!==r.status){e.next=10;break}return n=r.data,s=n.current_page,u=n.data,o=n.total,l=n.last_page,i={data:u,total:o,page:s,last_page:l},e.next=10,c({type:"update",payload:i});case 10:case"end":return e.stop()}},e,this)}),deleteUser:d.default.mark(function e(a,t){var r,n,s,u,l=a.payload,i=t.put,p=t.call,c=t.select;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(function(e){return e});case 2:return r=e.sent,n=r.users,s={users:l},e.next=7,p(y.request,{url:g.default.api.deleteUser,withtoken:!0,params:s});case 7:if(u=e.sent,!u.data.error){e.next=12;break}o.default.error(""+u.data.error),e.next=14;break;case 12:return e.next=14,i({type:"getUserList",payload:{page:n.page,rowsPerPage:n.rowsPerPage}});case 14:case"end":return e.stop()}},e,this)}),changeRowsPerPage:d.default.mark(function e(a,t){var r=a.payload,n=t.put;t.call,t.select;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"update",payload:r});case 2:return e.next=4,n({type:"getUserList",payload:r});case 4:case"end":return e.stop()}},e,this)})},reducers:{update:function(e,a){var t=a.payload;return(0,s.default)({},e,t)},loading:function(e){return(0,s.default)({},e,{loading:!e.loading})},dialogLoading:function(e){return(0,s.default)({},e,{dialogLoading:!e.dialogLoading})},showOrHideDialog:function(e){return(0,s.default)({},e,{dialogopen:!e.dialogopen,error:{name:null,email:null,password:null,password_confirmation:null}})},updateErrorMsg:function(e,a){return(0,s.default)({},e,{error:a.payload})}}},e.exports=a.default}});