webpackJsonp([17],{820:function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(2),s=r(n),l=t(96),u=r(l),d=t(339),o=r(d);t(341);var i=t(122),p=(r(i),t(125),t(370)),c=(r(p),t(93)),f=r(c),g=t(92),m=r(g),y=t(342);o.default.config({top:100});var w={Accept:"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+(0,f.default)("access_token")};a.default={namespace:"users",state:{dialogopen:!1,dialogLoading:!1,error:{name:null,email:null,password:null,password_confirmation:null},title:"Users",column:[{id:"id",numeric:!0,disablePadding:!0,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"email",numeric:!1,disablePadding:!1,label:"email"},{id:"created_at",numeric:!1,disablePadding:!1,label:"Created_at"}],order:"asc",orderBy:"id",selected:[],data:[],page:1,rowsPerPage:10,total:0,last_page:null},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){if("/user"===e.pathname){a({type:"app/update",payload:{pageHeader:"Users"}});var t=e.query||{page:1,rowsPerPage:10};a({type:"getUserList",payload:t})}})}},effects:{getUserList:u.default.mark(function e(a,t){var r,n,s,l,d,o,i,p=a.payload,c=t.put,f=t.call;t.select;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"loading"});case 2:return e.next=4,f(y.request,{url:m.default.api.userList,headers:w,params:p});case 4:if(r=e.sent,200!==r.status){e.next=10;break}return n=r.data,s=n.current_page,l=n.data,d=n.total,o=n.last_page,i={data:l,total:d,page:s,last_page:o},e.next=10,c({type:"update",payload:i});case 10:case"end":return e.stop()}},e,this)}),deleteUser:u.default.mark(function e(a,t){var r,n,s,l,d=a.payload,i=t.put,p=t.call,c=t.select;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(function(e){return e});case 2:return r=e.sent,n=r.users,s={users:d},e.next=7,p(y.request,{url:m.default.api.deleteUser,headers:w,params:s});case 7:if(l=e.sent,!l.data.error){e.next=12;break}o.default.error(""+l.data.error),e.next=14;break;case 12:return e.next=14,i({type:"getUserList",payload:{page:n.page,rowsPerPage:n.rowsPerPage}});case 14:case"end":return e.stop()}},e,this)}),changeRowsPerPage:u.default.mark(function e(a,t){var r=a.payload,n=t.put;t.call,t.select;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"update",payload:r});case 2:return e.next=4,n({type:"getUserList",payload:r});case 4:case"end":return e.stop()}},e,this)})},reducers:{update:function(e,a){var t=a.payload;return(0,s.default)({},e,t)},loading:function(e){return(0,s.default)({},e,{loading:!e.loading})},dialogLoading:function(e){return(0,s.default)({},e,{dialogLoading:!e.dialogLoading})},showOrHideDialog:function(e){return(0,s.default)({},e,{dialogopen:!e.dialogopen,error:{name:null,email:null,password:null,password_confirmation:null}})},updateErrorMsg:function(e,a){return(0,s.default)({},e,{error:a.payload})}}},e.exports=a.default}});